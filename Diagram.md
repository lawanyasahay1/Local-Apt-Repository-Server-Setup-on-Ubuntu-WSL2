## Local APT Repository Setup Diagram
```
+-----------------------------+
| /var/www/html/ubuntu-repo   | <-- My repo directory
|-----------------------------|
| cowsay_3.03.deb             |
| figlet_2.2.5.deb            |
| sl_5.02.deb                 |
| Packages.gz                 |   <-- Generated by dpkg-scanpackages
+-----------------------------+
|
| Served via HTTP
v
+--------------------+
| Apache2 (localhost)|
| Port: 8080         |
+--------------------+
|
| URL: http://localhost:8080/ubuntu-repo/
v
+--------------------+
| APT client         |
| (sudo apt update)  |
| (sudo apt install) |
+--------------------+
|
| Uses Packages.gz metadata
v
+------------------------------+
| Installs local DEB packages  |
| cowsay, figlet, sl           |
+------------------------------+
```
---

### Flow Explanation

**Repository Directory (`/var/www/html/ubuntu-repo`)**  
- Contains `.deb` packages.  
- `Packages.gz` is created with `dpkg-scanpackages`.  
- Permissions set to `755` so Apache can read files.  

**Apache2 Web Server**  
- Serves the repo at `http://localhost:8080/ubuntu-repo/`.  
- Files are owned/readable by `www-data`.  

**APT Configuration**  
- Source added in `/etc/apt/sources.list.d/local-repo.list`:  
deb [trusted=yes] http://localhost:8080/ubuntu-repo ./

- `trusted=yes` avoids needing GPG keys.  
- Translations disabled to prevent warnings:  
```bash
Acquire::Languages "none";
Package Installation Flow

APT fetches Packages.gz from Apache.

Reads metadata, checks versions.

Installs selected packages (cowsay, figlet, sl) from my local repo.

Warnings I Saw

404 on /InRelease and /Release â†’ normal for minimal local repos.

Not a problem, since Packages.gz exists and works.
